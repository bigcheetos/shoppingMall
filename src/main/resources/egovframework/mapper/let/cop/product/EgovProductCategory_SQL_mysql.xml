<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ProductCategoryDAO">
	
	<select id="selectCategoryListAll" resultMap="productCategoryResultMap" >
			SELECT 
				CATEGORY_ID,
				TYPE_ID,
				CATEGORY_NAME,
				CATEGORY_ORDER,
				CATEGORY_STATUS
			FROM
				PRODUCT_CATEGORY			
	</select>
	
	<select id="selectNextCategoryId" resultType="String" >
			SELECT 
				MAX(CATEGORY_ID) + 1
			FROM
				PRODUCT_CATEGORY			
	</select>
	
	<insert id="insertCategory">
			INSERT INTO
				PRODUCT_CATEGORY
			(
				CATEGORY_ID,
				TYPE_ID,
				CATEGORY_NAME,
				CATEGORY_ORDER,
				CATEGORY_STATUS
			)
			VALUES
			(
				#{categoryId},
				#{typeId},
				#{categoryName}, 
				#{categoryOrder}, 
				#{categoryStatus}
			)
	</insert>
	
	<update id="updateCategory">
			UPDATE
				PRODUCT_CATEGORY
			SET
				CATEGORY_NAME = #{categoryName},
				TYPE_ID 	  = #{typeId},
				CATEGORY_ORDER = #{categoryOrder}, 
				CATEGORY_STATUS = #{categoryStatus}
			WHERE
				CATEGORY_ID = #{categoryId}
	</update>
	
	<delete id="deleteCategory">
		DELETE
		FROM PRODUCT_CATEGORY
		WHERE
			CATEGORY_ID = #{categoryId}
	</delete>
	
	<resultMap id="productCategoryResultMap" type="egovframework.let.cop.product.service.ProductCategoryVO">
		<result property="categoryId" column="CATEGORY_ID"/>
		<result property="typeId" column="TYPE_ID"/>
		<result property="categoryName" column="CATEGORY_NAME"/>
		<result property="categoryOrder" column="CATEGORY_ORDER"/>
		<result property="categoryStatus" column="CATEGORY_STATUS"/>
	</resultMap>
</mapper>